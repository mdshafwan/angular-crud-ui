<div class="animate-fade-in">
  <h3 class="text-xl font-semibold mb-6 text-slate-800">
    {{ metalRate.id ? 'Edit Metal Rate' : 'Create New Metal Rate' }}
  </h3>
  
  <form #rateForm="ngForm" (ngSubmit)="onSubmit()" class="space-y-5">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-2">Metal</label>
        <select 
          name="metalId" 
          [(ngModel)]="metalRate.metalId"
          required
          class="w-full px-4 py-3 rounded-xl border border-slate-300 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-colors appearance-none bg-[url('data:image/svg+xml;base64,...')] bg-no-repeat bg-[right_1rem_center] bg-[length:1.5em_1.5em]"
        >
          <option *ngFor="let metal of metals" [value]="metal.id">
            {{ metal.name }} ({{ metal.symbol }})
          </option>
        </select>
      </div>

      <div>
        <label class="block text-sm font-medium text-slate-700 mb-2">Purity</label>
        <select 
          name="purityId" 
          [(ngModel)]="metalRate.purityId"
          required
          class="w-full px-4 py-3 rounded-xl border border-slate-300 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-colors appearance-none bg-[url('data:image/svg+xml;base64,...')] bg-no-repeat bg-[right_1rem_center] bg-[length:1.5em_1.5em]"
        >
          <option *ngFor="let purity of purities" [value]="purity.id">
            {{ purity.name }} ({{ purity.value }}%)
          </option>
        </select>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-2">Rate per Gram</label>
        <div class="relative">
          <span class="absolute left-4 top-3.5 text-slate-500">$</span>
          <input 
            type="number" 
            name="rate" 
            [(ngModel)]="metalRate.rate"
            min="0"
            step="0.01"
            required
            class="w-full pl-10 pr-4 py-3 rounded-xl border border-slate-300 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-colors"
            placeholder="0.00"
          >
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-slate-700 mb-2">Effective Date</label>
        <input 
          type="date" 
          name="effectiveDate" 
          [(ngModel)]="metalRate.effectiveDate"
          required
          class="w-full px-4 py-3 rounded-xl border border-slate-300 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-colors"
        >
      </div>
    </div>

    <div class="flex space-x-3 pt-2">
      <button 
        type="submit" 
        [disabled]="rateForm.invalid"
        class="btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        {{ metalRate.id ? 'Update Rate' : 'Create Rate' }}
      </button>
      <button 
        type="button" 
        (click)="onCancel()"
        class="px-6 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl shadow-sm hover:bg-slate-200 transition-colors"
      >
        Cancel
      </button>
    </div>
  </form>
</div>