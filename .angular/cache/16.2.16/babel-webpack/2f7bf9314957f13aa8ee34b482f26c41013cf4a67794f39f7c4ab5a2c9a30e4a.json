{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { fadeInOut, listStagger } from '../../animations';\nexport let UserListComponent = class UserListComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n    this.selectedUser = this.createEmptyUser();\n    this.showFormFlag = false;\n    this.loading = true;\n    this.page = 1;\n    this.itemsPerPage = 5;\n    this.filterText = '';\n    this.sortField = 'name';\n    this.sortDirection = 'asc';\n  }\n  ngOnInit() {\n    this.loadUsers();\n  }\n  createEmptyUser() {\n    return {\n      name: '',\n      email: ''\n    };\n  }\n  loadUsers() {\n    this.loading = true;\n    this.userService.getAllUsers().subscribe({\n      next: data => {\n        this.users = data;\n        this.sortUsers();\n        this.loading = false;\n      },\n      error: () => this.loading = false\n    });\n  }\n  sortUsers() {\n    this.users.sort((a, b) => {\n      const fieldA = a[this.sortField]?.toLowerCase() || '';\n      const fieldB = b[this.sortField]?.toLowerCase() || '';\n      return this.sortDirection === 'asc' ? fieldA.localeCompare(fieldB) : fieldB.localeCompare(fieldA);\n    });\n  }\n  get filteredUsers() {\n    return this.users.filter(u => u.name.toLowerCase().includes(this.filterText.toLowerCase()) || u.email.toLowerCase().includes(this.filterText.toLowerCase()));\n  }\n  toggleSort(field) {\n    if (this.sortField === field) {\n      this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    } else {\n      this.sortField = field;\n      this.sortDirection = 'asc';\n    }\n    this.sortUsers();\n  }\n  showForm() {\n    this.selectedUser = this.createEmptyUser();\n    this.showFormFlag = true;\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: 'smooth'\n    });\n  }\n  editUser(user) {\n    this.selectedUser = {\n      ...user\n    };\n    this.showFormFlag = true;\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: 'smooth'\n    });\n  }\n  deleteUser(id) {\n    if (!id) return;\n    this.userService.deleteUser(id).subscribe({\n      next: () => {\n        this.users = this.users.filter(u => u.id !== id);\n      },\n      error: () => alert('Failed to delete user')\n    });\n  }\n  handleFormSubmit(user) {\n    if (user.id) {\n      this.userService.updateUser(user.id, user).subscribe({\n        next: updated => {\n          const index = this.users.findIndex(u => u.id === updated.id);\n          if (index > -1) this.users[index] = updated;\n          this.sortUsers();\n          this.hideForm();\n        },\n        error: () => alert('Failed to update user')\n      });\n    } else {\n      this.userService.createUser(user).subscribe({\n        next: newUser => {\n          this.users = [...this.users, newUser];\n          this.sortUsers();\n          this.hideForm();\n        },\n        error: () => alert('Failed to create user')\n      });\n    }\n  }\n  hideForm() {\n    this.showFormFlag = false;\n    this.selectedUser = this.createEmptyUser();\n  }\n};\nUserListComponent = __decorate([Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css'],\n  animations: [fadeInOut, listStagger]\n})], UserListComponent);","map":{"version":3,"names":["Component","fadeInOut","listStagger","UserListComponent","constructor","userService","users","selectedUser","createEmptyUser","showFormFlag","loading","page","itemsPerPage","filterText","sortField","sortDirection","ngOnInit","loadUsers","name","email","getAllUsers","subscribe","next","data","sortUsers","error","sort","a","b","fieldA","toLowerCase","fieldB","localeCompare","filteredUsers","filter","u","includes","toggleSort","field","showForm","window","scrollTo","top","document","body","scrollHeight","behavior","editUser","user","deleteUser","id","alert","handleFormSubmit","updateUser","updated","index","findIndex","hideForm","createUser","newUser","__decorate","selector","templateUrl","styleUrls","animations"],"sources":["D:\\javacode\\angular-crud-ui\\src\\app\\user\\user-list\\user-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { UserService, User } from '../user.service';\r\nimport { fadeInOut, listStagger } from '../../animations';\r\n\r\n@Component({\r\n  selector: 'app-user-list',\r\n  templateUrl: './user-list.component.html',\r\n  styleUrls: ['./user-list.component.css'],\r\n  animations: [fadeInOut, listStagger]\r\n})\r\nexport class UserListComponent implements OnInit {\r\n  users: User[] = [];\r\n  selectedUser: User = this.createEmptyUser();\r\n  showFormFlag = false;\r\n  loading = true;\r\n\r\n  page: number = 1;\r\n  itemsPerPage: number = 5;\r\n  filterText: string = '';\r\n  sortField: keyof User = 'name';\r\n  sortDirection: 'asc' | 'desc' = 'asc';\r\n\r\n  constructor(private userService: UserService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadUsers();\r\n  }\r\n\r\n  private createEmptyUser(): User {\r\n    return { name: '', email: '' };\r\n  }\r\n\r\n  loadUsers(): void {\r\n    this.loading = true;\r\n    this.userService.getAllUsers().subscribe({\r\n      next: data => {\r\n        this.users = data;\r\n        this.sortUsers();\r\n        this.loading = false;\r\n      },\r\n      error: () => this.loading = false\r\n    });\r\n  }\r\n\r\n  sortUsers(): void {\r\n    this.users.sort((a, b) => {\r\n      const fieldA = a[this.sortField]?.toLowerCase() || '';\r\n      const fieldB = b[this.sortField]?.toLowerCase() || '';\r\n      return this.sortDirection === 'asc'\r\n        ? fieldA.localeCompare(fieldB)\r\n        : fieldB.localeCompare(fieldA);\r\n    });\r\n  }\r\n\r\n  get filteredUsers(): User[] {\r\n    return this.users.filter(u =>\r\n      u.name.toLowerCase().includes(this.filterText.toLowerCase()) ||\r\n      u.email.toLowerCase().includes(this.filterText.toLowerCase())\r\n    );\r\n  }\r\n\r\n  toggleSort(field: keyof User): void {\r\n    if (this.sortField === field) {\r\n      this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\r\n    } else {\r\n      this.sortField = field;\r\n      this.sortDirection = 'asc';\r\n    }\r\n    this.sortUsers();\r\n  }\r\n\r\n  showForm(): void {\r\n    this.selectedUser = this.createEmptyUser();\r\n    this.showFormFlag = true;\r\n    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\r\n  }\r\n\r\n  editUser(user: User): void {\r\n    this.selectedUser = { ...user };\r\n    this.showFormFlag = true;\r\n    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\r\n  }\r\n\r\n  deleteUser(id?: string): void {\r\n    if (!id) return;\r\n    this.userService.deleteUser(id).subscribe({\r\n      next: () => {\r\n        this.users = this.users.filter(u => u.id !== id);\r\n      },\r\n      error: () => alert('Failed to delete user')\r\n    });\r\n  }\r\n\r\n  handleFormSubmit(user: User): void {\r\n    if (user.id) {\r\n      this.userService.updateUser(user.id, user).subscribe({\r\n        next: updated => {\r\n          const index = this.users.findIndex(u => u.id === updated.id);\r\n          if (index > -1) this.users[index] = updated;\r\n          this.sortUsers();\r\n          this.hideForm();\r\n        },\r\n        error: () => alert('Failed to update user')\r\n      });\r\n    } else {\r\n      this.userService.createUser(user).subscribe({\r\n        next: newUser => {\r\n          this.users = [...this.users, newUser];\r\n          this.sortUsers();\r\n          this.hideForm();\r\n        },\r\n        error: () => alert('Failed to create user')\r\n      });\r\n    }\r\n  }\r\n\r\n  hideForm(): void {\r\n    this.showFormFlag = false;\r\n    this.selectedUser = this.createEmptyUser();\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}