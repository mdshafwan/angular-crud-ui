{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../metal/metal.service\";\nimport * as i2 from \"../../purity/purity.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction MetalRateFormComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const metal_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", metal_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", metal_r3.name, \" (\", metal_r3.symbol, \") \");\n  }\n}\nfunction MetalRateFormComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const purity_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", purity_r4.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", purity_r4.name, \" (\", purity_r4.value, \"%) \");\n  }\n}\nexport let MetalRateFormComponent = /*#__PURE__*/(() => {\n  class MetalRateFormComponent {\n    constructor(metalService, purityService) {\n      this.metalService = metalService;\n      this.purityService = purityService;\n      this.rate = {\n        id: '',\n        metalId: '',\n        purityId: '',\n        rate: 0,\n        effectiveDate: new Date().toISOString().split('T')[0]\n      };\n      this.formSubmit = new EventEmitter();\n      this.cancel = new EventEmitter();\n      this.metals = [];\n      this.purities = [];\n      this.loadingMetals = true;\n      this.loadingPurities = true;\n    }\n    ngOnInit() {\n      this.loadMetals();\n      this.loadPurities();\n    }\n    loadMetals() {\n      this.loadingMetals = true;\n      this.metalService.getAllMetals().subscribe({\n        next: metals => {\n          this.metals = metals;\n          this.loadingMetals = false;\n        },\n        error: err => {\n          console.error('Error loading metals:', err);\n          this.loadingMetals = false;\n        }\n      });\n    }\n    loadPurities() {\n      this.loadingPurities = true;\n      this.purityService.getAllpurity().subscribe({\n        next: purities => {\n          this.purities = purities;\n          this.loadingPurities = false;\n        },\n        error: err => {\n          console.error('Error loading purities:', err);\n          this.loadingPurities = false;\n        }\n      });\n    }\n    onSubmit() {\n      this.formSubmit.emit(this.rate);\n    }\n    onCancel() {\n      this.cancel.emit();\n    }\n    static {\n      this.ɵfac = function MetalRateFormComponent_Factory(t) {\n        return new (t || MetalRateFormComponent)(i0.ɵɵdirectiveInject(i1.MetalService), i0.ɵɵdirectiveInject(i2.PurityService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MetalRateFormComponent,\n        selectors: [[\"app-metal-rate-form\"]],\n        inputs: {\n          rate: \"rate\"\n        },\n        outputs: {\n          formSubmit: \"formSubmit\",\n          cancel: \"cancel\"\n        },\n        decls: 33,\n        vars: 9,\n        consts: [[1, \"animate-fade-in\"], [1, \"text-xl\", \"font-semibold\", \"mb-6\", \"text-slate-800\"], [1, \"space-y-5\", 3, \"ngSubmit\"], [\"rateForm\", \"ngForm\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-5\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-slate-700\", \"mb-2\"], [\"name\", \"metalId\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"rounded-xl\", \"border\", \"border-slate-300\", \"focus:border-cyan-500\", \"focus:ring-2\", \"focus:ring-cyan-500/20\", \"transition-colors\", \"appearance-none\", \"bg-[url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSdub25lJyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIHdpZHRoPScyNCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48cGF0aCBkPSdNNyAxMGw1IDUgNS01eicgc3Ryb2tlPScjNjg3MjgwJyBzdHJva2Utd2lkdGg9JzEuNScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+PC9zdmc+')]\", \"bg-no-repeat\", \"bg-[right_1rem_center]\", \"bg-[length:1.5em_1.5em]\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"purityId\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"rounded-xl\", \"border\", \"border-slate-300\", \"focus:border-cyan-500\", \"focus:ring-2\", \"focus:ring-cyan-500/20\", \"transition-colors\", \"appearance-none\", \"bg-[url('data:image/svg+xml;base64,PHN2ZyBmaWxsPSdub25lJyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIHdpZHRoPScyNCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48cGF0aCBkPSdNNyAxMGw1IDUgNS01eicgc3Ryb2tlPScjNjg3MjgwJyBzdHJva2Utd2lkdGg9JzEuNScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+PC9zdmc+')]\", \"bg-no-repeat\", \"bg-[right_1rem_center]\", \"bg-[length:1.5em_1.5em]\", 3, \"ngModel\", \"ngModelChange\"], [1, \"relative\"], [1, \"absolute\", \"left-4\", \"top-3.5\", \"text-slate-500\"], [\"type\", \"number\", \"name\", \"rate\", \"min\", \"0\", \"step\", \"0.01\", \"required\", \"\", \"placeholder\", \"0.00\", 1, \"w-full\", \"pl-10\", \"pr-4\", \"py-3\", \"rounded-xl\", \"border\", \"border-slate-300\", \"focus:border-cyan-500\", \"focus:ring-2\", \"focus:ring-cyan-500/20\", \"transition-colors\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"effectiveDate\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"rounded-xl\", \"border\", \"border-slate-300\", \"focus:border-cyan-500\", \"focus:ring-2\", \"focus:ring-cyan-500/20\", \"transition-colors\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"space-x-3\", \"pt-2\"], [\"type\", \"submit\", 1, \"btn-primary\", \"flex-1\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", 3, \"disabled\"], [\"type\", \"button\", 1, \"px-6\", \"py-3\", \"bg-slate-100\", \"text-slate-700\", \"font-medium\", \"rounded-xl\", \"shadow-sm\", \"hover:bg-slate-200\", \"transition-colors\", 3, \"click\"], [3, \"value\"]],\n        template: function MetalRateFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n            i0.ɵɵtext(2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 2, 3);\n            i0.ɵɵlistener(\"ngSubmit\", function MetalRateFormComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\")(7, \"label\", 5);\n            i0.ɵɵtext(8, \"Metal\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"select\", 6);\n            i0.ɵɵlistener(\"ngModelChange\", function MetalRateFormComponent_Template_select_ngModelChange_9_listener($event) {\n              return ctx.rate.metalId = $event;\n            });\n            i0.ɵɵtemplate(10, MetalRateFormComponent_option_10_Template, 2, 3, \"option\", 7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\")(12, \"label\", 5);\n            i0.ɵɵtext(13, \"Purity\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"select\", 8);\n            i0.ɵɵlistener(\"ngModelChange\", function MetalRateFormComponent_Template_select_ngModelChange_14_listener($event) {\n              return ctx.rate.purityId = $event;\n            });\n            i0.ɵɵtemplate(15, MetalRateFormComponent_option_15_Template, 2, 3, \"option\", 7);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(16, \"div\", 4)(17, \"div\")(18, \"label\", 5);\n            i0.ɵɵtext(19, \"Rate per Gram\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"div\", 9)(21, \"span\", 10);\n            i0.ɵɵtext(22, \"$\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"input\", 11);\n            i0.ɵɵlistener(\"ngModelChange\", function MetalRateFormComponent_Template_input_ngModelChange_23_listener($event) {\n              return ctx.rate.rate = $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(24, \"div\")(25, \"label\", 5);\n            i0.ɵɵtext(26, \"Effective Date\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"input\", 12);\n            i0.ɵɵlistener(\"ngModelChange\", function MetalRateFormComponent_Template_input_ngModelChange_27_listener($event) {\n              return ctx.rate.effectiveDate = $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(28, \"div\", 13)(29, \"button\", 14);\n            i0.ɵɵtext(30);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(31, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function MetalRateFormComponent_Template_button_click_31_listener() {\n              return ctx.onCancel();\n            });\n            i0.ɵɵtext(32, \" Cancel \");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            const _r0 = i0.ɵɵreference(4);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\" \", ctx.rate.id ? \"Edit Metal Rate\" : \"Create New Metal Rate\", \" \");\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngModel\", ctx.rate.metalId);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", ctx.metals);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.rate.purityId);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngForOf\", ctx.purities);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngModel\", ctx.rate.rate);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.rate.effectiveDate);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", _r0.invalid);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.rate.id ? \"Update Rate\" : \"Create Rate\", \" \");\n          }\n        },\n        dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinValidator, i4.NgModel, i4.NgForm],\n        styles: [\".metal-rate-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .metal-rate-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;appearance:none;border-radius:.25rem;border-width:1px;padding:.5rem .75rem;line-height:1.25;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1));--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.metal-rate-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .metal-rate-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1)) }.date-picker[_ngcontent-%COMP%]{cursor:pointer}\"]\n      });\n    }\n  }\n  return MetalRateFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}